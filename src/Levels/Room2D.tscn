[gd_scene load_steps=25 format=2]

[ext_resource path="res://src/Player/PlayerPosition.tscn" type="PackedScene" id=1]
[ext_resource path="res://src/Platform/Tileset/TileMap1.tres" type="TileSet" id=2]
[ext_resource path="res://src/Levels/RoomAnimations.gd" type="Script" id=3]
[ext_resource path="res://assets/art/background/pixelBackground7.png" type="Texture2D" id=6]
[ext_resource path="res://assets/art/background/pixelBackground3.png" type="Texture2D" id=7]
[ext_resource path="res://assets/art/background/pixelBackground6.png" type="Texture2D" id=8]
[ext_resource path="res://src/Platform/Tileset/TileMap2.tres" type="TileSet" id=9]
[ext_resource path="res://src/Platform/World32.gd" type="Script" id=10]
[ext_resource path="res://src/Platform/Tileset/TileMap3.tres" type="TileSet" id=12]
[ext_resource path="res://src/Platform/Tileset/TilesetForeground.tres" type="TileSet" id=13]
[ext_resource path="res://src/Levels/Room2D.gd" type="Script" id=15]
[ext_resource path="res://src/Platform/Tileset/Back16.tres" type="TileSet" id=30]
[ext_resource path="res://src/Platform/Tileset/World16.tres" type="TileSet" id=31]
[ext_resource path="res://src/Platform/Tileset/Graff.tres" type="TileSet" id=32]
[ext_resource path="res://src/Platform/Tileset/Interactive16.tres" type="TileSet" id=36]
[ext_resource path="res://src/Platform/World16.gd" type="Script" id=38]
[ext_resource path="res://src/Platform/BackEnvironment.gd" type="Script" id=39]
[ext_resource path="res://src/Platform/Back32.gd" type="Script" id=40]
[ext_resource path="res://src/Platform/Back16.gd" type="Script" id=41]
[ext_resource path="res://src/Platform/Graff.gd" type="Script" id=42]
[ext_resource path="res://src/Platform/FrontEnvironment.gd" type="Script" id=43]

[sub_resource type="Gradient" id=1]
resource_local_to_scene = true
colors = PackedColorArray( 0.971008, 1, 0.851562, 1, 0.238892, 0.751644, 0.804688, 1 )

[sub_resource type="GradientTexture2D" id=2]
resource_local_to_scene = true
gradient = SubResource( 1 )
width = 516

[sub_resource type="Environment" id=3]
resource_local_to_scene = true
background_mode = 4
auto_exposure_scale = 1.0
auto_exposure_min_luma = 0.9
auto_exposure_max_luma = 3.0
dof_blur_near_distance = 0.55
glow_enabled = true
glow_intensity = 0.96
glow_strength = 1.01
glow_bloom = 0.01
glow_blend_mode = 1
glow_hdr_threshold = 0.95
glow_hdr_luminance_cap = 1.0
glow_hdr_scale = 0.98
glow_bicubic_upscale = true
adjustment_enabled = true
adjustment_contrast = 1.08
adjustment_saturation = 1.01

[node name="Room2D" type="Node2D"]
script = ExtResource( 15 )
__meta__ = {
"_edit_lock_": true,
"_editor_description_": "*Purpose: handle a part of a level.
*Requirement: it depends on a Level node. However, it can be called alone in the editor for test: the portals are then locked and the Player is spawned at the PlayerPosition node."
}

[node name="Portals" type="Node2D" parent="."]

[node name="ParallaxBackground" type="ParallaxBackground" parent="."]
layer = -10

[node name="ParallaxLayer" type="ParallaxLayer" parent="ParallaxBackground"]
motion_scale = Vector2( 0, 0 )
motion_offset = Vector2( -400, -228 )
__meta__ = {
"_edit_group_": true,
"_edit_lock_": true
}

[node name="TextureRect" type="TextureRect" parent="ParallaxBackground/ParallaxLayer"]
offset_left = -2.0
offset_top = 458.0
offset_right = 454.0
offset_bottom = 1270.0
rotation = -89.9999
mouse_filter = 2
texture = SubResource( 2 )
expand = true
stretch_mode = 2
__meta__ = {
"_edit_use_anchors_": false
}

[node name="ParallaxLayer2" type="ParallaxLayer" parent="ParallaxBackground"]
visible = false
motion_scale = Vector2( 0.08, 0 )
motion_offset = Vector2( 0, -60 )
motion_mirroring = Vector2( 1024, 512 )
__meta__ = {
"_edit_group_": true,
"_edit_lock_": true
}

[node name="TextureRect" type="TextureRect" parent="ParallaxBackground/ParallaxLayer2"]
modulate = Color( 0.447059, 0.270588, 0.270588, 1 )
offset_top = -256.0
offset_right = 1024.0
offset_bottom = 260.0
mouse_filter = 2
texture = ExtResource( 7 )
__meta__ = {
"_edit_use_anchors_": false
}

[node name="ParallaxLayer3" type="ParallaxLayer" parent="ParallaxBackground"]
modulate = Color( 0.678431, 0.839216, 0.819608, 1 )
motion_scale = Vector2( 0.15, 0.15 )
motion_offset = Vector2( 0, -110 )
motion_mirroring = Vector2( 1540, 0 )
__meta__ = {
"_edit_group_": true,
"_edit_lock_": true
}

[node name="TextureRect" type="TextureRect" parent="ParallaxBackground/ParallaxLayer3"]
offset_left = 5.3454
offset_top = 5.92419
offset_right = 1545.35
offset_bottom = 521.924
mouse_filter = 2
texture = ExtResource( 8 )
__meta__ = {
"_edit_use_anchors_": false
}

[node name="ColorRect" type="ColorRect" parent="ParallaxBackground/ParallaxLayer3"]
offset_left = 4.0
offset_top = 259.0
offset_right = 1551.0
offset_bottom = 524.0
mouse_filter = 2
color = Color( 0.933333, 0.933333, 0.933333, 1 )
__meta__ = {
"_edit_use_anchors_": false
}

[node name="ParallaxLayer4" type="ParallaxLayer" parent="ParallaxBackground"]
modulate = Color( 0.454902, 0.678431, 0.654902, 1 )
light_mask = -2147483647
motion_scale = Vector2( 0.3, 0.3 )
motion_offset = Vector2( 0, -100 )
motion_mirroring = Vector2( 2300, 0 )
__meta__ = {
"_edit_group_": true,
"_edit_lock_": true
}

[node name="TextureRect" type="TextureRect" parent="ParallaxBackground/ParallaxLayer4"]
offset_top = -240.0
offset_right = 2176.0
offset_bottom = 784.0
mouse_filter = 2
texture = ExtResource( 6 )
__meta__ = {
"_edit_use_anchors_": false
}

[node name="ParallaxForeground" type="ParallaxBackground" parent="."]
layer = 10

[node name="ParallaxLayer5" type="ParallaxLayer" parent="ParallaxForeground"]
light_mask = -2147483647
z_index = 21
z_as_relative = false
motion_scale = Vector2( 1.2, 1.2 )

[node name="TileMap" type="TileMap" parent="ParallaxForeground/ParallaxLayer5"]
modulate = Color( 0.290196, 0.662745, 0.690196, 1 )
z_index = 21
z_as_relative = false
tile_set = ExtResource( 13 )
cell_size = Vector2( 128, 128 )
format = 1

[node name="Map" type="Node2D" parent="."]
z_as_relative = false

[node name="CanvasModulate" type="CanvasModulate" parent="Map"]
visible = false
z_index = -82
color = Color( 0.987793, 0.9375, 1, 1 )

[node name="Back32" type="TileMap" parent="Map"]
light_mask = 3
z_index = 5
z_as_relative = false
tile_set = ExtResource( 9 )
cell_size = Vector2( 32, 32 )
collision_layer = 2
collision_mask = 7
occluder_light_mask = 2
format = 1
tile_data = PackedInt32Array( -196614, 9, 8, -196613, 9, 9, -196612, 9, 9, -196611, 9, 9, -196610, 9, 9, -196609, 9, 9, -262144, 9, 9, -262143, 9, 9, -262142, 9, 9, -262141, 9, 9, -262140, 9, 9, -262139, 9, 11, -131078, 9, 131080, -131077, 9, 65545, -131076, 9, 65545, -131075, 9, 65545, -131074, 9, 65545, -131073, 9, 65545, -196608, 9, 65545, -196607, 9, 65545, -196606, 9, 65545, -196605, 9, 65545, -196604, 9, 65545, -196603, 9, 65547, -65542, 9, 131080, -65541, 9, 65545, -65540, 9, 65545, -65539, 9, 65545, -65538, 9, 65545, -65537, 9, 65545, -131072, 9, 65545, -131071, 9, 65545, -131070, 9, 65545, -131069, 9, 65545, -131068, 9, 65545, -131067, 9, 65547, -6, 9, 196616, -5, 9, 196618, -4, 9, 196618, -3, 9, 196618, -2, 9, 196618, -1, 9, 196618, -65536, 9, 196618, -65535, 9, 196618, -65534, 9, 196618, -65533, 9, 196618, -65532, 9, 196618, -65531, 9, 196619 )
script = ExtResource( 40 )

[node name="Back16" type="TileMap" parent="Map"]
light_mask = 3
z_index = 5
z_as_relative = false
tile_set = ExtResource( 30 )
cell_size = Vector2( 16, 16 )
collision_layer = 2
collision_mask = 7
occluder_light_mask = 2
format = 1
script = ExtResource( 41 )

[node name="Graff" type="TileMap" parent="Map"]
light_mask = 8
z_index = 7
z_as_relative = false
tile_set = ExtResource( 32 )
cell_size = Vector2( 16, 16 )
collision_layer = 2
collision_mask = 7
occluder_light_mask = 0
format = 1
script = ExtResource( 42 )

[node name="World32" type="TileMap" parent="Map"]
z_index = 150
z_as_relative = false
tile_set = ExtResource( 2 )
cell_size = Vector2( 32, 32 )
cell_clip_uv = true
collision_layer = 2
collision_mask = 7
format = 1
tile_data = PackedInt32Array( 65530, 0, 1, 65531, 0, 5, 65532, 0, 9, 65533, 0, 9, 65534, 0, 9, 65535, 0, 9, 0, 0, 9, 1, 0, 9, 2, 0, 9, 3, 0, 9, 4, 0, 6, 5, 0, 3, 131067, 0, 196616, 131068, 0, 131077, 131069, 0, 65545, 131070, 0, 65545, 131071, 0, 65545, 65536, 0, 65545, 65537, 0, 65545, 65538, 0, 65545, 65539, 0, 131078, 65540, 0, 196619, 196604, 0, 196616, 196605, 0, 196618, 196606, 0, 196618, 196607, 0, 196618, 131072, 0, 196618, 131073, 0, 196618, 131074, 0, 196618, 131075, 0, 196619 )
script = ExtResource( 10 )

[node name="World16" type="TileMap" parent="Map"]
z_index = 15
z_as_relative = false
tile_set = ExtResource( 31 )
cell_size = Vector2( 16, 16 )
cell_clip_uv = true
collision_layer = 2
collision_mask = 7
format = 1
script = ExtResource( 38 )

[node name="BackEnvironment" type="TileMap" parent="Map"]
light_mask = 3
z_index = 9
z_as_relative = false
tile_set = ExtResource( 12 )
cell_size = Vector2( 16, 16 )
collision_layer = 2
collision_mask = 7
format = 1
script = ExtResource( 39 )

[node name="FrontEnvironment" type="TileMap" parent="Map"]
light_mask = 3
z_index = 16
z_as_relative = false
tile_set = ExtResource( 36 )
cell_size = Vector2( 16, 16 )
collision_layer = 2
collision_mask = 7
format = 1
script = ExtResource( 43 )

[node name="Environment" type="Node2D" parent="."]

[node name="Activables" type="Node2D" parent="Environment"]
position = Vector2( 0, -2 )
z_as_relative = false

[node name="Balls" type="Node2D" parent="Environment"]

[node name="Baskets" type="Node2D" parent="Environment"]

[node name="Dynamics" type="Node2D" parent="Environment"]
z_index = 2

[node name="Interactive" type="Node2D" parent="Environment"]

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource( 3 )

[node name="PlayerPosition" parent="." instance=ExtResource( 1 )]
position = Vector2( 0, -32 )

[node name="RoomAnimations" type="AnimationPlayer" parent="."]
script = ExtResource( 3 )
